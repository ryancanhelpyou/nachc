!function(a,b){"use strict";function c(a){var c=[];c.push('<option value="">{0}</option>'.format("All Steps"));var d=e[a];return b.each(d,function(a,b){c.push('<option value="{0}">{1}</option>'.format(b.id,b.name))}),c.join("")}function d(a){var b=[];b.push('<option value="">{0}</option>'.format("All Assignees"));for(var c=0;c<a.length;c++)b.push('<option value="{0}">{1}</option>'.format(a[c].key,a[c].name));return b.join("")}var e;b(document).ready(function(){e=gravityflowFilterVars.config;var a=gravityflowFilterVars.selected,f=a.formId;if(b("#gravityflow-reports-category").toggle(!!f),f){var g=a.category;if("step"==g){b("#gravityflow-reports-steps").html(c(f));var h=a.stepId;if(b("#gravityflow-reports-steps").val(h),b("#gravityflow-reports-steps").show(),h){var i=e[f][h].assignees;b("#gravityflow-reports-assignees").html(d(i)),b("#gravityflow-reports-assignees").val(a.assignee),b("#gravityflow-reports-assignees").show()}}}b("#gravityflow-form-drop-down").change(function(){b("#gravityflow-reports-category").toggle(!!this.value)}),b("#gravityflow-reports-category").change(function(){var a=b("#gravityflow-form-drop-down").val();"step"==this.value?(b("#gravityflow-reports-steps").html(c(a)),b("#gravityflow-reports-steps").show()):(b("#gravityflow-reports-assignees").hide(),b("#gravityflow-reports-steps").hide())}),b("#gravityflow-reports-steps").change(function(){if(this.value){var a=b("#gravityflow-form-drop-down").val(),c=e[a][this.value].assignees;b("#gravityflow-reports-assignees").html(d(c)),b("#gravityflow-reports-assignees").show()}else b("#gravityflow-reports-assignees").hide()})}),a.drawCharts=function(){b(".gravityflow_chart").each(function(){var a=b(this),c=a.data("table"),d=google.visualization.arrayToDataTable(c),e=a.data("options"),f=a.data("type"),g=new google.charts[f](this);g.draw(d,e)})},String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}}(window.Gravity_Flow_Reports=window.Gravity_Flow_Reports||{},jQuery),google.load("visualization","1.1",{packages:["bar"]}),google.setOnLoadCallback(Gravity_Flow_Reports.drawCharts);